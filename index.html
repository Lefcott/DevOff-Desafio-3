<html>
  <head>
    <title>DibujadorH1</title>
    <style>
      #canvas {
        background-color: #ddd;
      }
      #picker {
        float: right;
      }
    </style>
  </head>
  <canvas
    width="500"
    height="500"
    onmousemove="draw(event)"
    onmouseup="stopDrawing()"
    id="drawer"
  ></canvas>
  <input type="color" id="picker" onchange="changeColor(event.target.value)" />
  <body>
    <script>
      const context = document.getElementById("drawer").getContext("2d");
      context.lineWidth = 5;
      let lastX = null;
      let lastY = null;

      const draw = (e) => {
        if (!e.buttons) return;
        const x = e.clientX;
        const y = e.clientY;
        if (lastX === null) {
          lastX = x;
          lastY = y;
          return;
        }
        context.beginPath();
        context.moveTo(lastX, lastY);
        context.lineTo(x, y);
        context.stroke();
        lastX = x;
        lastY = y;
      };
      const stopDrawing = () => {
        lastX = null;
        lastY = null;
      };
      const changeColor = (color) => (context.strokeStyle = color);
    </script>
  </body>
</html>
